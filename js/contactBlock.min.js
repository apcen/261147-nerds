var overlay=document.querySelector(".overlay"),contactBlock=document.querySelector(".contact-block"),contactBlockOpenButton=document.querySelector(".contacts .btn"),contactBlockCloseButton=document.querySelector(".contact-block .cross"),contactForm=contactBlock.querySelector(".contact-form"),userNameField=contactBlock.querySelector("[name=user-name]"),userEmailField=contactBlock.querySelector("[name=user-email]"),userCommentField=contactBlock.querySelector("[name=user-letter]"),userNameInStorage=localStorage.getItem("userName"),userEmailInStorage=localStorage.getItem("userEmail");contactBlockOpenButton.addEventListener("click",function(e){e.preventDefault(),overlay.classList.add("show-block"),contactBlock.classList.add("show-block"),userNameInStorage?(userNameField.value=userNameInStorage,userEmailInStorage?(userEmailField.value=userEmailInStorage,userCommentField.focus()):userEmailField.focus()):userNameField.focus()}),contactBlockCloseButton.addEventListener("click",function(e){e.preventDefault(),overlay.classList.remove("show-block"),contactBlock.classList.remove("show-block"),contactBlock.classList.remove("error-block")}),contactForm.addEventListener("submit",function(e){userNameField.value&&userEmailField.value&&userCommentField.value?(localStorage.setItem("userName",userNameField.value),localStorage.setItem("userEmail",userEmailField.value)):(e.preventDefault(),contactBlock.classList.remove("error-block"),contactBlock.offsetWidth=contactBlock.offsetWidth,contactBlock.classList.add("error-block"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&contactBlock.classList.contains("show-block")&&(overlay.classList.remove("show-block"),contactBlock.classList.remove("show-block"),contactBlock.classList.remove("error-block"))});